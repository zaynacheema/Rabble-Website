{% extends "rabble/base.html" %}

{% block title %}
  {% if form.instance.pk %}Edit Post{% else %}New Post{% endif %}
{% endblock %}

{% block content %}
  <h2>
    {% if form.instance.pk %}
      Edit Post
    {% else %}
      New Post in !{{ subrabble.id }}
    {% endif %}
  </h2>

  <form method="post">
    {% csrf_token %}
    <div style="margin-bottom: 1rem;">
      <label for="id_title">Title:</label><br>
      <input type="text" name="title" id="id_title" value="{{ form.title.value|default:'' }}" style="width: 50%; padding: 0.5rem;" />
    </div>

    <div style="margin-bottom: 1rem;">
      <label for="id_body">Body:</label><br>
      <textarea name="body" id="id_body" rows="6" style="width: 100%; padding: 0.5rem;">{{ form.body.value|default:'' }}</textarea>
    </div>
    <button type="submit">
      {% if form.instance.pk %}Save Changes{% else %}Create Post{% endif %}
    </button>
    <a href="{% url 'subrabble-detail' subrabble.id %}">Cancel</a>
  </form>
{% endblock %}
